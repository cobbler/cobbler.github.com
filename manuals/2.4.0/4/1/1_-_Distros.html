<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Distros</title>
   <meta name="author" content="Cobbler development team" />

   <!-- Fonts -->
   <link href='http://fonts.googleapis.com/css?family=Signika|Ovo' rel='stylesheet' type='text/css'>

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Icon -->
   <link rel="icon" type="image/png" href="/images/favicon.png" />

   <!-- JQuery/Bootstrap/custom scripts -->
   <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
   <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>
   <script src="/lib/bootstrap/js/bootstrap.min.js"></script>
   <script type="text/javascript" src="/js/search.js"></script>

   <link rel="stylesheet" href="http://code.jquery.com/ui/1.8.18/themes/base/jquery-ui.css" type="text/css" />
   <link href="/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
   <link href="/lib/font/font-awesome.css" rel="stylesheet">

   <!-- Homepage CSS, including overrides for anything above -->
   <link rel="stylesheet" href="/css/style.css" type="text/css" />
</head>
<body>

<!-- ClickTale Top part -->
<script type="text/javascript">
var WRInitTime=(new Date()).getTime();
</script>
<!-- ClickTale end of Top part -->

<div id="wrap">
 <div id="main" class="container-fluid">
  <div class="row-fluid">
   <div class="span12">&nbsp;</div>
   <div class="span3 offset9">
     <div id="socialmedia">
      <a href="https://twitter.com/cobblerista" class="twitter-follow-button" data-show-count="false" data-size="large" data-dnt="true">Follow @cobblerista</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
     </div>
   </div>
  </div>
  <div class="row-fluid">
   <div class="span10 offset1">
    <div class="navbar">
     <div class="navbar-inner">
      <a class="brand" href="/"><img src="/images/logo-sm.png" /></a>
      <ul class="nav">
       <li class="divider-vertical"></li>
       <li><a href="/about.html" title="About Cobbler"><i class="icon-cloud icon-med"></i> About Cobbler</a></li>
       <li class="divider-vertical"></li>
       <li class="dropdown">
         <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-group icon-med"></i> Community <b class="caret"></b></a>
         <ul class="dropdown-menu">
           <li><a href="/community.html" title="How to Get Help">How to Get Help</a></li>
           <li><a href="/supporters.html" title="Supporters of Cobbler">Supporters</a></li>
         </ul>
       </li>
       <li class="divider-vertical"></li>
       <li class="dropdown">
         <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-book icon-med"></i> Manuals <b class="caret"></b></a>
         <ul class="dropdown-menu">
           <li><a href="/manuals/2.4.0/" title="Version 2.4.0">Version 2.4.0</a></li>
           <li><a href="/manuals/2.2.3/" title="Version 2.2.3">Version 2.2.3</a></li>
         </ul>
       </li>
       <li class="divider-vertical"></li>
       <li class="dropdown">
         <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-github-sign icon-med"></i> Github <b class="caret"></b></a>
         <ul class="dropdown-menu">
          <li><a href="https://github.com/cobbler/cobbler" title="Main Repository" target="_blank">Main Repo</a></li>
          <li><a href="https://github.com/cobbler/cobbler/issues" title="Issues" target="_blank">Issue Tracker</a></li>
          <li><a href="https://github.com/cobbler/cobbler/wiki" title="Github Wiki" target="_blank">Wiki (deprecated)</a></li>
         </ul>
       </li>
       <li class="divider-vertical"></li>
      </ul>
      <!--
      <form class="navbar-search pull-right" onsubmit="return false;">
       <input id="searchbox" type="text" class="search-query" placeholder="Search Manuals" />
      </form>
      -->
     </div>
    </div>
   </div>

  </div>
  <div class="row-fluid">
   <div class="span10 offset1">
   <!-- begin content -->


   <div class="span9">
<ul class="breadcrumb"><li><a href="/manuals">manuals</a> <span class="divider">/</span></li><li><a href="/manuals/2.4.0">2.4.0</a> <span class="divider">/</span></li><li><a href="/manuals/2.4.0/4_-_General_Topics.html">4</a> <span class="divider">/</span></li><li><a href="/manuals/2.4.0/4/1_-_Cobbler_Primatives.html">1</a> <span class="divider">/</span></li><li class="active">Distros</li></ul>
    <h1>Distros</h1>
<p>The first step towards installing systems with Cobbler is to add a distribution record to cobbler’s configuration.</p>

<p>The distro command has the following sub-commands:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>cobbler distro --help
<span class="nv">usage</span>
<span class="o">=====</span>
cobbler distro add
cobbler distro copy
cobbler distro edit
cobbler distro find
cobbler distro list
cobbler distro remove
cobbler distro rename
cobbler distro report
</code></pre>
</div>


<h3>Add/Edit Options</h3>

<p>In general, it’s really a lot easier to follow the import workflow -- it only requires waiting for the mirror content to be copied and/or scanned. Imported mirrors also save time during install since they don’t have to hit external installation sources. Please read the <a href="/manuals/2.4.0/4/2/4_-_Import.html">Cobbler Import</a> documentation for more details.</p>

<p>If you want to be explicit with distribution definition, however, here’s how it works:</p>

<p><strong>Example:</strong></p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>cobbler distro add --name<span class="o">=</span>string --kernel<span class="o">=</span>path --initrd<span class="o">=</span>path <span class="o">[</span>options<span class="o">]</span>
</code></pre>
</div>


<h4>--name (required)</h4>

<p>a string identifying the distribution, this should be something like "rhel4".</p>

<h4>--kernel (required)</h4>

<p>An absolute filesystem path to a kernel image.</p>

<h4>--initrd (required)</h4>

<p>An absolute filesystem path to a initrd image.</p>

<h4>--arch</h4>

<p>Sets the architecture for the PXE bootloader and also controls how koan’s --replace-self option will operate.</p>

<p>The default setting (’standard’) will use pxelinux. Set to ’ia64’ to use elilo. ’ppc’ and ’ppc64’ use yaboot. ’s390x’ is not PXEable, but koan supports it for reinstalls.</p>

<p>’x86’ and ’x86_64’ effectively do the same thing as standard.</p>

<p>If you perform a cobbler import, the arch field will be auto-assigned.</p>

<h4>--boot-files</h4>

<p>This option is used to specify additional files that should be copied to the TFTP directory for the distro so that they can be fetched during earlier stages of the installation. Some distributions (for example, VMware ESXi) require this option to function correctly.</p>

<h4>--breed</h4>

<p>Controls how various physical and virtual parameters, including kernel arguments for automatic installation, are to be treated. Defaults to "redhat", which is a suitable value for Fedora and CentOS as well. It means anything redhat based.</p>

<p>There is limited experimental support for specifying "debian", "ubuntu", or "suse", which treats the kickstart file as a different format and changes the kernel arguments appropriately. Support for other types of distributions is possible in the future. See the Wiki for the latest information about support for these distributions.</p>

<p>The file used for the answer file, regardless of the breed setting, is the value used for --kickstart when creating the profile. In other words, if another distro calls their answer file something other than a "kickstart", the kickstart parameter still governs where that answer file is.</p>

<h4>--clobber</h4>

<p>This option allows "add" to overwrite an existing distro with the same name, so use it with caution.</p>

<h4>--comment</h4>

<p>An optional comment to associate with this distro.</p>

<h4>--fetchable-files</h4>

<p>This option is used to specify a list of key=value files that can be fetched via the python based TFTP server. The "value" portion of the name is the path/name they will be available as via TFTP.</p>

<p>Please see the <a href="/manuals/2.4.0/4/4/4_-_Managing_TFTP.html">Managing TFTP</a> section for more details on using the python-based TFTP server.</p>

<h4>--in-place</h4>

<p>By default, any modifications to key=value fields (ksmeta, kopts, etc.) do no preserve the contents.</p>

<p><strong>Example:</strong></p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>cobbler distro edit --name<span class="o">=</span>foo --ksmeta<span class="o">=</span><span class="s2">&quot;a=b c=d&quot;</span>
<span class="nv">$ </span>cobbler distro report --name<span class="o">=</span>foo | grep <span class="s2">&quot;Kickstart Meta&quot;</span>
Kickstart Metadata             : <span class="o">{</span><span class="s1">&#39;a&#39;</span>: <span class="s1">&#39;b&#39;</span>, <span class="s1">&#39;c&#39;</span>: <span class="s1">&#39;d&#39;</span><span class="o">}</span>
<span class="nv">$ </span>cobbler distro edit --name<span class="o">=</span>foo --ksmeta<span class="o">=</span><span class="s2">&quot;e=f&quot;</span>
<span class="nv">$ </span>cobbler distro report --name<span class="o">=</span>foo | grep <span class="s2">&quot;Kickstart Meta&quot;</span>
Kickstart Metadata             : <span class="o">{</span><span class="s1">&#39;e&#39;</span>: <span class="s1">&#39;f&#39;</span><span class="o">}</span>
</code></pre>
</div>


<p>To preserve the contents of these fields, --in-place should be specified:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>cobbler distro edit --name<span class="o">=</span>foo --ksmeta<span class="o">=</span><span class="s2">&quot;a=b c=d&quot;</span>
<span class="nv">$ </span>cobbler distro report --name<span class="o">=</span>foo | grep <span class="s2">&quot;Kickstart Meta&quot;</span>
Kickstart Metadata             : <span class="o">{</span><span class="s1">&#39;a&#39;</span>: <span class="s1">&#39;b&#39;</span>, <span class="s1">&#39;c&#39;</span>: <span class="s1">&#39;d&#39;</span><span class="o">}</span>
<span class="nv">$ </span>cobbler distro edit --name<span class="o">=</span>foo --in-place --ksmeta<span class="o">=</span><span class="s2">&quot;e=f&quot;</span>
<span class="nv">$ </span>cobbler distro report --name<span class="o">=</span>foo | grep <span class="s2">&quot;Kickstart Meta&quot;</span>
Kickstart Metadata             : <span class="o">{</span><span class="s1">&#39;a&#39;</span>: <span class="s1">&#39;b&#39;</span>, <span class="s1">&#39;c&#39;</span>: <span class="s1">&#39;d&#39;</span>, <span class="s1">&#39;e&#39;</span>: <span class="s1">&#39;f&#39;</span><span class="o">}</span>
</code></pre>
</div>


<h4>--kopts</h4>

<p>Sets kernel command-line arguments that the distro, and profiles/systems dependant on it, will use during installation only. This field is a hash field, and accepts a set of key=value pairs:</p>

<p><strong>Example:</strong></p>

<div class="highlight"><pre><code class="bash">--kopts<span class="o">=</span><span class="s2">&quot;console=tty0 console=ttyS0,8,n,1 noapic&quot;</span>
</code></pre>
</div>


<h4>--kopts-post</h4>

<p>This is just like --kopts, though it governs kernel options on the installed OS, as opposed to kernel options fed to the installer. This requires some special snippets to be found in your kickstart template to work correctly.</p>

<h4>--ksmeta</h4>

<p>This is an advanced feature that sets variables available for use in templates. This field is a hash field, and accepts a set of key=value pairs:</p>

<p><strong>Example:</strong></p>

<div class="highlight"><pre><code class="bash">--ksmeta<span class="o">=</span><span class="s2">&quot;foo=bar baz=3 asdf&quot;</span>
</code></pre>
</div>


<p>See the section on <a href="/manuals/2.4.0/4/5_-_Kickstart_Templating.html">Kickstart Templating</a> for further information.</p>

<h4>--mgmt-classes</h4>

<p>Management classes that should be associated with this distro for use with configuration management systems.</p>

<p>Please see the <a href="/manuals/2.4.0/5/3_-_Configuration_Management.html">Configuration Management</a> section for more details on integrating Cobbler with configuration management systems.</p>

<h4>--os-version</h4>

<p>Generally this field can be ignored. It is intended to alter some hardware setup for virtualized instances when provisioning guests with koan. The valid options for --os-version vary depending on what is specified for --breed. If you specify an invalid option, the error message will contain a list of valid os versions that can be used. If you do not know the os version or it does not appear in the list, omitting this argument or using "other" should be perfectly fine. Largely this is needed to support older distributions in virtualized settings, such as "rhel2.1", one of the OS choices if the breed is set to "redhat". If you do not encounter any problems with virtualized instances, this option can be safely ignored.</p>

<h4>--owners</h4>

<p>The value for --owners is a space seperated list of users and groups as specified in /etc/cobbler/users.conf.</p>

<p>Users with small sites and a limited number of admins can probably ignore this option, since it only applies to the Cobbler WebUI and XMLRPC interface, not the "cobbler" command line tool run from the shell. Furthermore, this is only respected when using the "authz_ownership" module which must be enabled and is not the default.</p>

<p>Please see the <a href="/manuals/2.4.0/6/3_-_Web_Authorization.html">Web Authorization</a> section for more details.</p>

<h4>--redhat-management-key</h4>

<p>If you’re using Red Hat Network, Red Hat Satellite Server, or Spacewalk, you can store your authentication keys here and Cobbler can add the neccessary authentication code to your kickstart where the snippet named "redhat_register" is included. The default option specified in <a href="/manuals/2.4.0/4/3_-_Cobbler_Settings.html">Cobbler Settings</a> will be used if this field is left blank.</p>

<p>Please see the <a href="/manuals/2.4.0/Appendix/D_-_Tips_for_RHN.html">Tips For RHN</a> section for more details on integrating Cobbler with RHN/Spacewalk.</p>

<h4>--redhat-management-server</h4>

<p>The RHN Satellite or Spacewalk server to use for registration. As above, the default option specified in <a href="/manuals/2.4.0/4/3_-_Cobbler_Settings.html">Cobbler Settings</a> will be used if this field is left blank.</p>

<p>Please see the <a href="/manuals/2.4.0/Appendix/D_-_Tips_for_RHN.html">Tips For RHN</a> section for more details on integrating Cobbler with RHN/Spacewalk.</p>

<h4>--template-files</h4>

<p>This feature allows cobbler to be used as a configuration management system. The argument is a space delimited string of key=value pairs. Each key is the path to a template file, each value is the path to install the file on the system. Koan also can retrieve these files from a cobbler server on demand, effectively allowing cobbler to function as a lightweight templated configuration management system.</p>

<p>Please see the <a href="/manuals/2.4.0/5/3/1_-_Built-In_Configuration_Management.html">Built-In Configuration Management</a> section for more details on using template files.</p>

   </div>
   <div class="span3">
<div class="toc"><ul class="dirtree"><li><a href="/manuals/2.4.0/4/1/1_-_Distros.html">1 - Distros</a></li><li><a href="/manuals/2.4.0/4/1/2_-_Profiles_and_Sub-Profiles.html">2 - Profiles and Sub-Profiles</a></li><li><a href="/manuals/2.4.0/4/1/3_-_Systems.html">3 - Systems</a></li><li><a href="/manuals/2.4.0/4/1/4_-_Images.html">4 - Images</a></li><li><a href="/manuals/2.4.0/4/1/5_-_Repos.html">5 - Repos</a></li><li><a href="/manuals/2.4.0/4/1/6_-_Management_Classes.html">6 - Management Classes</a></li><li><a href="/manuals/2.4.0/4/1/7_-_File_Resources.html">7 - File Resources</a></li><li><a href="/manuals/2.4.0/4/1/8_-_Package_Resources.html">8 - Package Resources</a></li></ul></div>
   </div>

   <!-- end content -->
   </div>
  </div> <!-- end row-fluid -->
 </div> <!-- end container -->
</div> <!-- end wrap -->

<footer>
  <div class="container pagination-centered">&copy; 2012</div>
</footer>

<!-- Google Analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-27319020-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<!-- Google Analytics end -->

</body>
</html>

